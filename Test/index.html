<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Giúp anh trả lời những câu hỏi</title>
    <style>
        html {
            height: 100%;
        }

        body {
            height: 100%;
            margin: 0;
            padding: 0;
            background: #fff6e3;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .main {
            position: relative;
        }

        .dragon {
            width: 200px;
            height: 140px;
            transform-origin: 50% 80%;
            animation: zoomIn .5s cubic-bezier(0.47, 0, 0.75, 0.72) infinite alternate;
        }

        .dragon .body {
            position: absolute;
            top: 0;
            right: 0;
            width: 180px;
            height: 128px;
            background: url(./img/body.png) no-repeat center center;
            background-size: contain;
            z-index: 10;
        }

        .dragon .horn-left {
            position: absolute;
            top: -17px;
            left: 32px;
            width: 31px;
            height: 31px;
            background: url(./img/horn-left.png) no-repeat;
            background-size: contain;
            z-index: 9;
            transform-origin: 150% 200%;
            transform: rotate(-5deg);
            animation: swingRight .5s cubic-bezier(0.47, 0, 0.75, 0.72) infinite alternate;
        }

        .dragon .horn-right {
            position: absolute;
            top: -16px;
            left: 110px;
            width: 34px;
            height: 31px;
            background: url(./img/horn-right.png) no-repeat;
            background-size: contain;
            z-index: 9;
            transform-origin: -50% 200%;
            transform: rotate(5deg);
            animation: swingLeft .5s cubic-bezier(0.47, 0, 0.75, 0.72) infinite alternate;
        }

        .dragon .eye {
            position: absolute;
            top: 39px;
            width: 11px;
            height: 11px;
            background: url(./img/eye.png) no-repeat;
            background-size: contain;
            z-index: 12;
        }

        .dragon .eye.left {
            left: 49px;
        }

        .dragon .eye.right {
            left: 118px;
            transform-origin: 50% 50%;
            transform: rotate(180deg);
        }

        .dragon .blush {
            position: absolute;
            top: 46px;
            width: 15px;
            height: 9px;
            background: url(./img/blush.png) no-repeat;
            background-size: 100% 100%;
            z-index: 11;
            animation: blush .5s ease infinite alternate;
        }

        .dragon .blush.left {
            left: 43px;
        }

        .dragon .blush.right {
            left: 120px;
        }

        .dragon .mouth {
            position: absolute;
            top: 52px;
            left: 49px;
            width: 78px;
            height: 56px;
            background: url(./img/mouth.png) no-repeat;
            background-size: 100%;
            z-index: 11;
            animation: openMouth 1s ease infinite;
        }

        .dragon .tail-sting {
            position: absolute;
            top: 67px;
            left: 139px;
            width: 40px;
            height: 38px;
            background: url(./img/tail-sting.png) no-repeat;
            background-size: contain;
            z-index: 9;
            transform-origin: 0 100%;
            animation: tailUp .5s cubic-bezier(0.47, 0, 0.75, 0.72) infinite alternate;
        }

        .shadow-wrapper {
            position: absolute;
            top: 110px;
            width: 100%;
        }

        .shadow {
            margin: 0 auto;
            width: 110px;
            height: 30px;
            background: rgba(0, 0, 0, 0.15);
            border-radius: 50%;
            z-index: 0;
            animation: zoomIn .5s cubic-bezier(0.47, 0, 0.75, 0.72) infinite alternate;
        }

        .fire-wrapper {
            position: absolute;
            width: 40px;
            top: 60px;
            left: 88px;
            transform: translate(-50%, -50%);
            transform-origin: 50% 100%;
            animation: fireUp 1s ease-in infinite;
        }

        .fire {
            padding-bottom: 135%;
            width: 100%;
            height: 100%;
            background: url(./img/fire.png) no-repeat;
            background-size: contain;
            animation: fire 1s ease-out infinite;
        }

        .progress {
            margin-top: 30px;
            width: 100%;
        }

        .progress .outer {
            width: 100%;
            height: 14px;
            border-radius: 7px;
            background: rgba(0, 0, 0, 0.1);
            overflow: hidden;
        }

        .progress .inner {
            width: 0;
            height: 100%;
            background: #ffcd33;
            animation: loading 2s linear forwards; /* Sử dụng forwards để giữ giá trị cuối cùng của animation */
            animation-play-state: running; /* Khởi tạo trạng thái chạy */
        }

        .progress.fade-out,
        .fire-wrapper.fade-out,
        .dragon.fade-out,
        .shadow-wrapper.fade-out {
            animation: fadeOut 1s forwards;
        }

        @keyframes fadeOut {
            to {
                opacity: 0;
                visibility: hidden;
            }
        }

        @keyframes loading {
            100% {
                width: 100%;
            }
        }

        @keyframes zoomIn {
            100% {
                transform: scale(1.16, 1.16);
            }
        }

        @keyframes swingRight {
            100% {
                transform: rotate(5deg);
            }
        }

        @keyframes swingLeft {
            100% {
                transform: rotate(-5deg);
            }
        }

        @keyframes blush {
            0% {
                opacity: 0;
            }

            100% {
                opacity: 1;
            }
        }

        @keyframes openMouth
        {
            0% {
                -webkit-clip-path: ellipse(20% 0% at 50% 0);
                        clip-path: ellipse(20% 0% at 50% 0);
            }

            50% {
                -webkit-clip-path: ellipse(100% 100% at 50% 0);
                        clip-path: ellipse(100% 100% at 50% 0);
            }

            70% {
                -webkit-clip-path: ellipse(100% 100% at 50% 0);
                        clip-path: ellipse(100% 100% at 50% 0);
            }

            100% {
                -webkit-clip-path: ellipse(20% 0% at 50% 0);
                        clip-path: ellipse(20% 0% at 50% 0);
            }
        }

        @keyframes tailUp {
            0% {
                transform: scaleY(0.9);
            }

            100% {
                transform: scaleY(1.06);
            }
        }

        @keyframes fireUp {
            0% {
                top: 70px;
            }

            20% {
                top: 70px;
            }

            100% {
                top: -80px;
            }
        }

        @keyframes fire {
            0% {
                transform: scale(0, 0);
                opacity: 0.8;
            }

            20% {
                transform: scale(0, 0);
                opacity: 0.8;
            }

            50% {
                opacity: 0.8;
            }

            100% {
                transform: scale(1, 1);
                opacity: 0;
            }
        }

        .start-button {
            padding: 15px 30px;
            font-size: 18px;
            cursor: pointer;
            background-color: #4CAF50;
            color: white;
            border: none;
            border-radius: 5px;
        }

        .progress,
        .fire-wrapper,
        .dragon,
        .shadow-wrapper
        {
            display: none;
        }

        .progress.fade-out,
        .fire-wrapper.fade-out,
        .dragon.fade-out,
        .shadow-wrapper.fade-out {
            animation: fadeOut 1s forwards;
        }

        @keyframes fadeOut {
            to {
                opacity: 0;
                visibility: hidden;
            }
        }
        
        .question-wrapper {
    display: none;
    text-align: center;
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    background: #fff6e3;
    padding: 20px;
    border-radius: 10px;
}

.question-wrapper h2 {
    margin-bottom: 20px;
    background: #fff6e3;
}

.question-wrapper {
    display: none;
    text-align: center;
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    background: #fff6e3;
    padding: 20px;
    border-radius: 10px;
}

.question-wrapper h2 {
    margin-bottom: 20px;
    background: #fff6e3;
}

.answer-wrapper {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 10px;
    flex-direction: row;
}

.answer-wrapper button {
    padding: 20px 60px;
    font-size: 20px;
    cursor: pointer;
    background-color: yellowgreen;
    color: white;
    border: none;
    border-radius: 5px;
    
}

.result-wrapper {
    display: none;  /* Add this line to initially hide the result wrapper */
    text-align: center;
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    background: #fff6e3;
    padding: 20px;
    border-radius: 10px;
}

.result-wrapper img {
    max-width: 100%;
    height: auto;
}
.image {
    width: 500px;
    height: 500px;
    margin: 20px 0;
}


    </style>
</head>
<body>
    <div class="main">
        <div class="shadow-wrapper">
            <div class="shadow"></div>
        </div>
        <div class="dragon">
            <div class="body"></div>
            <div class="horn-left"></div>
            <div class="horn-right"></div>
            <div class="eye left"></div>
            <div class="eye right"></div>
            <div class="blush left"></div>
            <div class="blush right"></div>
            <div class="mouth"></div>
            <div class="tail-sting"></div>
        </div>
        <div class="fire-wrapper">
            <div class="fire"></div>
        </div>
        <div class="progress">
            <div class="outer">
                <div class="inner"></div>
            </div>
        </div>
        <button class="start-button" onclick="startAnimation()">Nhấn vào đây nèee</button>
        <div class="container" id="container">
        <div class="question-wrapper">
            <h2>Cho anh làm quen em được hong ạaaaa?</h2>
            <br>
            <div class="answer-wrapper">
                <button id="button1" onclick="checkAnswer(this)">Cóaaa</button>
                <button id="button2" onmouseover="randomizePosition(this)">Không</button>
                <button id="button3">Maybee</button>
            </div>
            <div class="result-wrapper" id="result">
                <h2>Em đồng ý rồi nhéeeeeeeeeeeeeee :)))</h2>
                <img src="./happy-cat-cat.gif" alt="Result Gif " class="image">
                <p>Happy Happy Happy</p>
            </div>
        </div>
    </div>
</div>
    <script>
        function startAnimation() {
            // Ẩn nút bắt đầu
            const startButton = document.querySelector('.start-button');
            startButton.style.display = 'none';
        
            // Hiển thị ảnh GIF
        
            // Hiển thị phần chứa animation
            document.querySelector('.progress').style.display = 'block';
            document.querySelector('.dragon').style.display = 'block';
            document.querySelector('.fire-wrapper').style.display = 'block';
            document.querySelector('.shadow-wrapper').style.display = 'block';
        
            // Khởi động animation
            document.querySelector('.progress .inner').style.animation = 'loading 5s linear forwards';
            document.querySelector('.dragon').style.animationPlayState = 'running';
            document.querySelector('.fire-wrapper').style.animationPlayState = 'running';
            document.querySelector('.shadow-wrapper').style.animation = 'zoomIn .5s cubic-bezier(0.47, 0, 0.75, 0.72) infinite alternate';
        
            // Tự động ẩn sau 5 giây
            setTimeout(() => {
                document.querySelector('.dragon').classList.add('fade-out');
                document.querySelector('.fire-wrapper').classList.add('fade-out');
                document.querySelector('.progress').classList.add('fade-out');
                document.querySelector('.shadow-wrapper').classList.add('fade-out');
        
                // Ẩn shadow-wrapper sau 0.5s nữa
                setTimeout(() => {
                    document.querySelector('.shadow-wrapper').style.display = 'none';
                }, 500);
        
                // Ẩn ảnh GIF sau 0.5s
                setTimeout(() => {
                    initialImage.style.display = 'none';
                }, 500);
            }, 5000);
        
            // Hiển thị câu hỏi sau 5 giây
            setTimeout(() => {
                document.querySelector('.question-wrapper').style.display = 'block';
            }, 5000);
        }
        function checkAnswer(button) {
            // Hide all buttons
            const buttons = document.querySelectorAll('.answer-wrapper button');
            buttons.forEach(button => {
                button.style.display = 'none';
            });
        
            // Check which button was clicked
            if (button.id === 'button1') {
                // Show the result after a delay
                setTimeout(() => {
                    document.querySelector('.result-wrapper').style.display = 'block';
                }, 1000);
            }
        }
         // Store the original position of button2
    const originalButton2Position = {
        left: document.getElementById('button2').style.left,
        top: document.getElementById('button2').style.top
    };

    function randomizePosition(button) {
        // Get the viewport dimensions
        const viewportWidth = window.innerWidth;
        const viewportHeight = window.innerHeight;

        // Calculate random position
        const randomX = Math.random() * (viewportWidth - button.clientWidth);
        const randomY = Math.random() * (viewportHeight - button.clientHeight);

        // Apply the random position
        button.style.position = 'absolute';
        button.style.left = `${randomX}px`;
        button.style.top = `${randomY}px`;

        // Change the content on hover
        button.addEventListener('mouseover', function() {
            button.textContent = 'Chọn cóa đii, cái này chọn k dc đâu :)), muốn chọn Không thì kéo khắp màn hình kiếm chứ Không nó trốn rồi :))';
        });

        button.addEventListener('mouseout', function() {
            button.textContent = 'Maybeee';
            // Reset the position to the original after mouseout
            button.style.left = originalButton2Position.left;
            button.style.top = originalButton2Position.top;
        });
    }  
    function randomizePosition(button) {
        if (button.id === 'button2') { // Chỉ áp dụng random cho button2
            const buttonWidth = button.clientWidth;
            const buttonHeight = button.clientHeight;
    
            const maxX = window.innerWidth - buttonWidth;
            const maxY = window.innerHeight - buttonHeight;
    
            const randomX = Math.floor(Math.random() * maxX);
            const randomY = Math.floor(Math.random() * maxY);
    
            button.style.position = 'absolute';
    
            // Kiểm tra giới hạn trước khi áp dụng vị trí
            button.style.left = Math.min(maxX, randomX) + 'px';
            button.style.top = Math.min(maxY, randomY) + 'px';
        }
    }
        
        
    
        
        
                // Nếu không phải button2, có thể thực hiện các hành động khác ở đây (nếu cần)
                function changeContentOnHover(button) {
                    button.addEventListener('mouseover', function() {
                        button.textContent = 'Chọn cóa đii, cái này chọn k dc đâu :)), muốn chọn Không thì kéo khắp màn hình kiếm chứ Không nó trốn rồi :))';
                    });
                
                    button.addEventListener('mouseout', function() {
                        button.textContent = 'Maybeee';
                    });
                }
                
                // Gọi hàm để áp dụng cho button3
                changeContentOnHover(document.getElementById('button3'));
                // Định nghĩa hàm để ẩn và hiển thị button4 khi rê chuột vào và ra
                
        
    </script>
</body>
</html>
